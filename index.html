<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git Workflow Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div id="main-content">
        <h1>Git Workflow Visualizer</h1>
        <p>Based on the provided Git Workflow image. Start with Main branch, add custom branches and nodes via modals. Hover on branch lines to see ghost node at grid positions, click to add node there.</p>
       
        <div id="diagram">
            <svg id="git-svg"></svg> <!-- Height and width dynamic -->
        </div>
       
        <div class="controls">
            <button onclick="openAddBranchModal()">Add Branch</button>
            <button onclick="downloadCSV()">Download CSV</button>
            <input type="file" id="upload" accept=".csv" onchange="uploadCSV()">
        </div>
    </div>
   
    <!-- Sidebar -->
    <div id="sidebar">
        <h2>Node Details</h2>
        <label for="node-title">Title:</label>
        <input id="node-title" type="text">
        <label for="node-content">Content:</label>
        <textarea id="node-content" rows="5"></textarea>
        <button onclick="saveNodeDetails()">Save</button>
        <button id="delete-node" onclick="deleteNode()">Delete Node</button>
        <button id="delete-branch" onclick="deleteBranch()">Delete Branch</button>
        <button onclick="closeSidebar()">Close</button>
    </div>
   
    <!-- Add Branch Modal -->
    <div id="addBranchModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addBranchModal')">&times;</span>
            <h2>Add New Branch</h2>
            <input id="new-branch-name" type="text" placeholder="Branch name">
            <input id="new-branch-color" type="text" placeholder="Color (e.g., #ffa07a)">
            <button onclick="addBranch()">Create Branch</button>
        </div>
    </div>
   
    <!-- Add Node Modal -->
    <div id="addNodeModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addNodeModal')">&times;</span>
            <h2>Add New Node</h2>
            <input id="node-message" type="text" placeholder="Commit message (Title)">
            <textarea id="node-content-new" rows="5" placeholder="Content"></textarea>
            <button onclick="addNodeFromModal()">Create Node</button>
        </div>
    </div>
   
    <script src="script.js"></script>
</body>
</html>
